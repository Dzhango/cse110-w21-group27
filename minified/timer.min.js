let currentTaskId,allTasks,distractCounter=0;window.onload=function(){const a=JSON.parse(localStorage.getItem("currentTask"));allTasks=JSON.parse(localStorage.getItem("allTasks"));for(let b=0;b<allTasks.length;b++)allTasks[b].id===a&&(currentTaskId=b,document.getElementById("currTask").innerHTML=allTasks[currentTaskId].name);"true"==localStorage.getItem("ShortBreak")?(document.body.style.backgroundImage="linear-gradient(to right,#74EBD5,#ACB6E5)",document.getElementById("minutes").innerHTML="01",document.getElementById("seconds").innerHTML="00",document.getElementById("currTask").innerHTML="Short Break",document.getElementById("button-container").style.display="none",document.getElementById("container-short").style.display="block"):"true"==localStorage.getItem("LongBreak")?(document.body.style.backgroundImage="linear-gradient(to right,#ACB6E5,#74EBD5)",document.getElementById("minutes").innerHTML="01",document.getElementById("seconds").innerHTML="00",document.getElementById("currTask").innerHTML="Long Break",document.getElementById("button-container").style.display="none",document.getElementById("container-long").style.display="block"):(localStorage.setItem("isPomo","false"),document.getElementById("minutes").innerHTML="01",document.getElementById("seconds").innerHTML="00",document.getElementById("distraction-btn").innerHTML="Distraction : "+distractCounter,document.getElementById("title_timer").innerHTML="01:00- Time To Work!",document.getElementById("start-btn").style.display="block",document.getElementById("button-container").style.paddingLeft="0px")};function start(a,b){function c(){var c=Math.floor;let g=+new Date;console.log((g-d)/1e3);let h=c((g-d)/1e3),i=e-h;if(a=c(i/60),b=i%60,perc=100-100*(i/e),setProgress(perc),document.getElementById("minutes").innerHTML=10>a?"0"+a:a,!(10>b))document.getElementById("seconds").innerHTML=b,document.getElementById("title_timer").innerHTML=a+":"+b+"- Time To Work!";else if(document.getElementById("seconds").innerHTML="0"+b,document.getElementById("title_timer").innerHTML=a+":0"+b+"- Time To Work!",0==b&&0>=a){clearInterval(f),resetProgressRing();let a=+localStorage.getItem("sessionCounter");++a,console.log(a);let b=localStorage.getItem("isPomo");console.log(b),"true"==b?(localStorage.setItem("isPomo","false"),displayBreakComplete()):(localStorage.setItem("isPomo","true"),0==a%4?(localStorage.setItem("sessionCounter",a),localStorage.setItem("LongBreak","true"),displayLongBreak()):(localStorage.setItem("sessionCounter",a),localStorage.setItem("ShortBreak","true"),displayShortBreak()),allTasks[currentTaskId].current+=1,localStorage.setItem("allTasks",JSON.stringify(allTasks)))}}localStorage.setItem("ShortBreak","false"),localStorage.setItem("LongBreak","false");let d=+new Date;console.log(d),distractCounter=0,document.getElementById("distraction-btn").innerHTML="Distraction : "+distractCounter;let e=60*a+b;document.getElementById("minutes").innerHTML=10>a?"0"+a:a,10>b?(document.getElementById("seconds").innerHTML="0"+b,document.getElementById("title_timer").innerHTML=a+":0"+b+"- Time To Work!"):(document.getElementById("seconds").innerHTML=b,document.getElementById("title_timer").innerHTML=a+":"+b+"- Time To Work!");var f=setInterval(c,500)}function distractionCount(){++distractCounter,document.getElementById("distraction-btn").innerHTML="Distraction : "+distractCounter}function displayFailModal(){document.getElementById("failModal").style.display="block"}function failSession(){document.getElementById("failModal").style.display="none",window.location.href="../index.html"}function quitFailModal(){document.getElementById("failModal").style.display="none"}