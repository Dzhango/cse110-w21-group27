class TaskItem extends HTMLElement{static get observedAttributes(){return["name","number","completed","current"]}constructor(){super(),this.attachShadow({mode:"open"})}set name(a){this.setAttribute("name",a)}set current(a){this.setAttribute("current",a)}set number(a){this.setAttribute("number",a)}set completed(a){this.setAttribute("completed",a)}get name(){return this.getAttribute("name")}get current(){return this.getAttribute("current")}get number(){return this.getAttribute("number")}get completed(){return this.getAttribute("completed")}get checkmark(){return this.shadowRoot.querySelector("input")}get taskName(){return this.shadowRoot.querySelector("p").textContent}connectedCallback(){this.setAttribute("class","taskNode d-flex flex-row bd-highlight"),this.setAttribute("draggable","true");const a=TaskItem.createDrag(),b=this.createCheckmark(),c=TaskItem.createTask(this.name),d=this.createProgressBar(),e=TaskItem.createProgressText(this.current,this.number),f=this.createPlayButton(),g=this.createEditButton(),h=TaskItem.createDeleteButton();this.shadowRoot.innerHTML=TaskItem.styleSheets(),this.shadowRoot.appendChild(a),this.shadowRoot.appendChild(b),this.shadowRoot.appendChild(c),this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(f),this.shadowRoot.appendChild(g),this.shadowRoot.appendChild(h),this.shadowRoot.querySelector(".play-btn").addEventListener("click",this.playTask),this.shadowRoot.querySelector(".edit-btn").addEventListener("click",this.editTask),this.shadowRoot.querySelector(".delete-btn").addEventListener("click",this.deleteTask),this.shadowRoot.querySelector(".form-check-input").addEventListener("click",this.setCheck)}setFunctions(a,b,c,d){this.playTask=a,this.deleteTask=b,this.editTask=c,this.setCheck=d}disconnectedCallback(){this.shadowRoot.querySelector(".play-btn").removeEventListener("click",this.playTask),this.shadowRoot.querySelector(".edit-btn").removeEventListener("click",this.editTask),this.shadowRoot.querySelector(".delete-btn").removeEventListener("click",this.deleteTask),this.shadowRoot.querySelector(".form-check-input").removeEventListener("click",this.setCheck)}attributeChangedCallback(a,b,c){if("name"===a&&this.shadowRoot.querySelector("p")&&(this.shadowRoot.querySelector("p").textContent=c),"number"===a&&this.shadowRoot.querySelector("p1")&&(this.shadowRoot.querySelector("p1").innerHTML=`${this.current}/${c}`),"completed"===a&&this.shadowRoot.childNodes[8]){const a=this.createProgressBar();this.shadowRoot.replaceChild(a,this.shadowRoot.childNodes[8]);const b=this.shadowRoot.querySelector(".play-btn"),d=this.shadowRoot.querySelector(".edit-btn");"true"===c?(b.disabled=!0,b.firstChild.style.color="#c4c4c4",d.disabled=!0,d.firstChild.style.color="#c4c4c4"):(b.disabled=!1,b.firstChild.style.color="#2e4756","0"===this.current&&(d.disabled=!1,d.firstChild.style.color="#2e4756"))}if("current"===a){const a=this.shadowRoot.querySelector(".edit-btn");a&&0<c&&(a.disabled=!0,a.firstChild.style.color="#c4c4c4")}}createProgressBar(){let a;const b="true"===this.completed;b?a="100%":(a=100*(this.current/this.number),a=100<=a?"100%":`${a.toFixed(2)}%`);const c=document.createElement("div");c.setAttribute("class","flex-column progress");const d=document.createElement("div");return d.setAttribute("id","progress-bar"),parseInt(this.current,10)>parseInt(this.number,10)?d.setAttribute("class","progress-bar progress-bar bg-danger"):d.setAttribute("class","progress-bar progress-bar"),d.setAttribute("role","progressbar"),d.setAttribute("style",`width: ${a};`),d.setAttribute("aria-valuenow",`${this.current}`),d.setAttribute("aria-valuemin",0),d.setAttribute("aria-valuemin",`${this.number}`),d.innerHTML=`${a}`,c.appendChild(d),c}static createProgressText(a,b){const c=document.createElement("p1");return c.setAttribute("class","progress-text"),c.innerHTML=`${`${a}/${b}`}`,c}static createTask(a){const b=document.createElement("p");return b.setAttribute("class","p-2 flex-md-fill text-nowrap task-item"),b.innerHTML=a,b}static createDrag(){const a=document.createElement("span");return a.setAttribute("class","p-2 inline material-icons drag-btn hide"),a.setAttribute("id",`drag`),a.textContent="drag_indicator",a}createCheckmark(){const a=document.createElement("span");a.setAttribute("class","p-2 form-check form-check-inline"),a.setAttribute("id",`checkmark`);const b=document.createElement("input");b.setAttribute("class","form-check-input input-mysize large"),b.setAttribute("type","checkbox"),b.setAttribute("job","check"),b.setAttribute("id","checkmark-input");const c=document.createElement("label");c.setAttribute("for","checkbox"),a.appendChild(b),a.appendChild(c);const d="true"===this.completed;return b.checked=d,a}createPlayButton(){const a=document.createElement("button");a.setAttribute("class","p-2 bd-highlight btn  play-btn flex-right hide"),a.setAttribute("id",`play-btn`),a.setAttribute("type","button");const b=document.createElement("span");return b.setAttribute("class","material-icons play-btn hide"),b.setAttribute("job","play"),b.textContent="play_circle",a.appendChild(b),"true"===this.completed?(a.disabled="true",b.style.color="#c4c4c4"):b.style.color="#2e4756",a}createEditButton(){const a=document.createElement("button");a.setAttribute("class","p-2 bd-highlight btn  edit-btn flex-right hide"),a.setAttribute("id",`edit-btn`),a.setAttribute("type","button");const b=document.createElement("span");return b.setAttribute("class","material-icons edit-btn hide"),b.setAttribute("job","edit"),b.textContent="mode_edit",a.appendChild(b),"true"===this.completed||0<parseInt(this.current,10)?(a.disabled="true",b.style.color="#c4c4c4"):b.style.color="#2e4756",a}static createDeleteButton(){const a=document.createElement("button");a.setAttribute("class","p-2 bd-highlight btn  delete-btn flex-right hide"),a.setAttribute("id",`delete-btn`),a.setAttribute("type","button");const b=document.createElement("span");return b.setAttribute("class","material-icons delete-btn hide"),b.setAttribute("job","delete"),b.textContent="delete",a.appendChild(b),a}static styleSheets(){return`<link rel="stylesheet" href="task.css"/>
          <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"/>`}}customElements.define("task-item",TaskItem),"undefined"!=typeof exports&&(module.exports={TaskItem});